################################################################################
# BASH FORMAT CONFIG: PupNet for .NET
# WEBPAGE : https://github.com/kuiperzone/PupNet
################################################################################


########################################
# Application
########################################

# Mandatory application (file) name. This must be the base name of the main
# runnable file to be created by the publish/build process. It should NOT
# include any directory part or extension, i.e. do not append ".exe" or ".dll"
# for dotnet. It should not contain a space character. Example: "MyApp"
APP_MAIN="PupNet"

# Optional application version (i.e. "1.2.3.0"). If specified, "-p:Version"
# will be added to the publish command. Leave it blank if you wish to specify
# version information in your dotnet project files, or override from command line.
APP_VERSION="0.0.1"

# Mandatory application ID in reverse DNS form, i.e. "tld.my-domain.MyApp".
# Exclude any ".desktop" postfix. Note that reverse DNS form is necessary
# for compatibility with Freedesktop.org metadata.
APP_ID="zone.kuiper.${APP_MAIN}"

# Mandatory icon source file relative to this file (appimagetool seems to
# require this). Use .svg or .png only. SVG is preferred. PNG should be one of
# standard sizes, i.e, 128x128 or 256x256 pixels. Example: "Assets/app.svg"
APP_ICON_SRC=PupNet/Assets/generic.svg

# Optional Freedesktop.org AppStream metadata file relative to this file.
# It is not mandatory but highly recommended especially for Flatpak.
# For information: https://docs.appimage.org/packaging-guide/optional/appstream.html
# NB. The file may embed bash variables defined in this file and $ISO_DATE,
# i.e. date of build ("2021-10-29"). These will be substituted during the build.
# Example: "Assets/appdata.xml".
APP_METADATA=


########################################
# Desktop Entry
########################################

# Mandatory friendly name of the application.
DE_NAME="PupNet"

# Mandatory category(ies), separated with semicolon, in which the entry should be
# shown. See https://specifications.freedesktop.org/menu-spec/latest/apa.html
# Examples: "Development", "Graphics", "Network", "Utility" etc.
DE_CATEGORIES="Utility"

# Optional short comment text (single line).
# Example: "Perform calculations"
DE_COMMENT="Test"

# Optional keywords, separated with semicolon. Values are not meant for
# display and should not be redundant with the value of DE_NAME.
DE_KEYWORDS=""

# Flag indicating whether the program runs in a terminal window. Use true or false only.
DE_TERMINAL_FLAG=true

# Optional name-value text to be appended to the Desktop Entry file, thus providing
# additional metadata. Name-values should not be redundant with values above and
# are to be separated with '|' or new line '\n'.
# Example: "Comment[fr]=Effectue des calculs compliqu√©s|MimeType=image/x-foo"
DE_EXTEND=""


########################################
# Dotnet Publish
########################################

# Optional path relative to this file in which to find the dotnet project (.csproj)
# or solution (.sln) file, or the directory containing it. If empty (default), a single
# project or solution file is expected under the same directory as this file.
# IMPORTANT. If set to "null", dotnet publish is disabled (it is NOT called). Instead,
# only POST_PUBLISH is called. Example: "Source/MyProject"
DOTNET_PROJECT_PATH=""

# Optional arguments suppled to "dotnet publish". Do NOT include "-r" (runtime) or version here as they will
# be added (see also $APP_VERSION). Typically you want as a minimum: "-c Release --self-contained true".
# Additional useful arguments include: "-p:DebugType=None -p:DebugSymbols=false -p:PublishSingleFile=true
# -p:PublishTrimmed=true -p:TrimMode=link"
# Refer: https://docs.microsoft.com/en-us/dotnet/core/tools/dotnet-publish
DOTNET_PUBLISH_ARGS="-c Release --self-contained true -p:DebugType=None -p:DebugSymbols=false"


########################################
# POST-PUBLISH
########################################

# Optional post-publish or standalone build command. It is called after dotnet publish, but before the
# final output is built. The command could, for example, copy additional files into the "bin" directory.
# The working directory will be the location of this file. The value is mandatory if DOTNET_PROJECT_PATH
# equals "null". In addition to variables in this file, the following variables are exported prior:
# $ISO_DATE : date of build, i.e. "2021-10-29",
# $ARCH : architecture name (i.e. "aarch64"), if provided at command line
# $DOTNET_RID : dotnet runtime identifier string (i.e. "linux-x64), if provided at command line
# $PKG_KIND : package kind (i.e. "appimage", "flatpak", "zip")
# $APPDIR_ROOT : Package build directory root (i.e. "Deploy/temp/AppDir")
# $APPDIR_USR : Package user directory under root (i.e. "Deploy/temp/AppDir/usr")
# $APPDIR_BIN : Package bin directory under root (i.e. "Deploy/temp/AppDir/usr/bin")
# $APPRUN_TARGET : The expected target executable file (i.e. "Deploy/temp/AppDir/usr/bin/app-name")
# Example: "Assets/post-publish.sh"
POST_PUBLISH=""


########################################
# Package Output
########################################

# Mandatory output directory relative to this file. It will be created if it does not
# exist. It will contain the final package output files. Default: "Deploy".
# You may wish to consider adding this location to your .gitignore file.
PKG_OUTPUT_DIR="Deploy/bin"

# Boolean which sets whether to include the application version in the filename of the final
# output package (i.e. "HelloWorld-1.2.3-x86_64.AppImage"). It is ignored if $APP_VERSION is
# empty or the "--output" arg is specified at command line. Default and recommended: false.
PKG_VERSION_FLAG=false


########################################
# AppImage
########################################

# The appimagetool command. Default is "appimagetool" which is expected to be found
# in $PATH. If the tool is not in path or has different name, a full path can be given,
# example: "/home/user/Apps/appimagetool-x86_64.AppImage"
APPIMAGETOOL_COMMAND="appimagetool"

# Additional arguments for use with appimagetool. Useful for signing. Default is empty.
# See appimagetool --help. Example: "--sign"
APPIMAGETOOL_ARGS=""


########################################
# Flatpak
########################################

# The runtime platform. Invariably, for .NET (inc. Avalonia applications) this should
# be "org.freedesktop.Platform". The platform SDK must be installed on the build system.
# Refer: https://docs.flatpak.org/en/latest/available-runtimes.html
FLATPAK_PLATFORM_RUNTIME="org.freedesktop.Platform"

# The platform runtime version. The latest available version may change periodically.
# Refer to Flatpak documentation. Example: "22.08".
FLATPAK_PLATFORM_VERSION="22.08"

# The platform SDK. Invariably, for .NET (inc. Avalonia applications) this should
# be "org.freedesktop.Sdk".
FLATPAK_PLATFORM_SDK="org.freedesktop.Sdk"

# Flatpak manifest "finish-args" sandbox permissions. Optional, but if empty, a Flatpak application
# will have extremely limited access to the host environment. This option may be used to grant required
# application permissions. Values here MUST be prefixed with "--" and separated by '|'.
# Permissive example: "--socket=wayland|--socket=fallback-x11|--filesystem=host|--share=network"
# Less permissive example: "--socket=wayland|--socket=fallback-x11|--filesystem=home"
# Refer: https://docs.flatpak.org/en/latest/sandbox-permissions.html
FLATPAK_FINISH_ARGS="--socket=wayland|--socket=fallback-x11|--filesystem=host|--share=network"

# The local Flatpak repo directory used to build the application. It is optional and the default
# is empty. If unset, a temporary repo is created under $TEMP_BUILD_DIR/flatpak-repo.
# Typically, you may want to add this location to your .gitignore file.
FLATPAK_LOCAL_REPO=""

# Additional arguments for use with flatpak-builder. Useful for signing. Default is empty.
# See flatpak-builder --help. Note that options "--repo", "--force-clean" and "--state-dir"
# may already be included. Example: "--gpg-keys=FILE"
FLATPAK_BUILDER_ARGS=""


########################################
# Advanced Other
########################################

# Temporary build directory (relative to this file) used to build AppDir and store the FlatPak repo.
# It is optional and, if unset, the location defaults to $PKG_OUTPUT_DIR/temp. Default is empty.
# Typically, you may want to add this location to your .gitignore file.
TEMP_BUILD_DIR=""

# Internal use only. Used for compatibility between conf and script. Do not modify.
CONF_IMPL_VERSION=2
